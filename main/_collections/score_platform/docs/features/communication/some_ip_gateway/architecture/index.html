
<!DOCTYPE html>


<html lang="en" data-content_root="../../../../../../../" >

  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>SOME/IP Gateway Architecture &#8212; REF_INT  documentation</title>
  
  
  
  <script data-cfasync="false">
    document.documentElement.dataset.mode = localStorage.getItem("mode") || "";
    document.documentElement.dataset.theme = localStorage.getItem("theme") || "";
  </script>
  <!--
    this give us a css class that will be invisible only if js is disabled
  -->
  <noscript>
    <style>
      .pst-js-only { display: none !important; }

    </style>
  </noscript>
  
  <!-- Loaded before other Sphinx assets -->
  <link href="../../../../../../../_static/styles/theme.css?digest=8878045cc6db502f8baf" rel="stylesheet" />
<link href="../../../../../../../_static/styles/pydata-sphinx-theme.css?digest=8878045cc6db502f8baf" rel="stylesheet" />

    <link rel="stylesheet" type="text/css" href="../../../../../../../_static/pygments.css?v=8f2a1f02" />
    <link rel="stylesheet" type="text/css" href="../../../../../../../_static/graphviz.css?v=4ae1632d" />
    <link rel="stylesheet" type="text/css" href="../../../../../../../_static/css/score.css?v=6e51530f" />
    <link rel="stylesheet" type="text/css" href="../../../../../../../_static/css/score_needs.css?v=e97392eb" />
    <link rel="stylesheet" type="text/css" href="../../../../../../../_static/css/score_design.css?v=d9fd870c" />
    <link rel="stylesheet" type="text/css" href="../../../../../../../_static/sphinx-design.min.css?v=95c83b7e" />
    <link rel="stylesheet" type="text/css" href="../../../../../../../_static/sphinx-data-viewer/jsonview.bundle.css?v=f6ef2277" />
    <link rel="stylesheet" type="text/css" href="../../../../../../../_static/sphinx-needs/libs/html/datatables.min.css?v=4b4fd840" />
    <link rel="stylesheet" type="text/css" href="../../../../../../../_static/sphinx-needs/common_css/need_toggle.css?v=5c6620df" />
    <link rel="stylesheet" type="text/css" href="../../../../../../../_static/sphinx-needs/common_css/needstable.css?v=5e1b6797" />
    <link rel="stylesheet" type="text/css" href="../../../../../../../_static/sphinx-needs/common_css/need_core.css?v=f5b60a78" />
    <link rel="stylesheet" type="text/css" href="../../../../../../../_static/sphinx-needs/common_css/need_links.css?v=2150a916" />
    <link rel="stylesheet" type="text/css" href="../../../../../../../_static/sphinx-needs/common_css/need_style.css?v=92936fa5" />
    <link rel="stylesheet" type="text/css" href="../../../../../../../_static/sphinx-needs/modern.css?v=803738c0" />
  
  <!-- So that users can add custom icons -->
  <script src="../../../../../../../_static/scripts/fontawesome.js?digest=8878045cc6db502f8baf"></script>
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="../../../../../../../_static/scripts/bootstrap.js?digest=8878045cc6db502f8baf" />
<link rel="preload" as="script" href="../../../../../../../_static/scripts/pydata-sphinx-theme.js?digest=8878045cc6db502f8baf" />

    <script src="../../../../../../../_static/jquery.js?v=5d32c60e"></script>
    <script src="../../../../../../../_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
    <script src="../../../../../../../_static/documentation_options.js?v=7f41d439"></script>
    <script src="../../../../../../../_static/doctools.js?v=9bcbadda"></script>
    <script src="../../../../../../../_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="../../../../../../../_static/design-tabs.js?v=f930bc37"></script>
    <script src="../../../../../../../_static/sphinx-data-viewer/jsonview.bundle.js?v=18cd53c5"></script>
    <script src="../../../../../../../_static/sphinx-data-viewer/jsonview_loader.js?v=f7ff7e7d"></script>
    <script src="../../../../../../../_static/sphinx-needs/libs/html/datatables.min.js?v=8a4aee21"></script>
    <script src="../../../../../../../_static/sphinx-needs/libs/html/datatables_loader.js?v=a2cae175"></script>
    <script src="../../../../../../../_static/sphinx-needs/libs/html/sphinx_needs_collapse.js?v=dca66431"></script>
    <script>DOCUMENTATION_OPTIONS.pagename = '_collections/score_platform/docs/features/communication/some_ip_gateway/architecture/index';</script>
    <script>
        DOCUMENTATION_OPTIONS.theme_version = '0.16.1';
        DOCUMENTATION_OPTIONS.theme_switcher_json_url = 'https://rmaddikery.github.io/reference_integration/versions.json';
        DOCUMENTATION_OPTIONS.theme_switcher_version_match = '';
        DOCUMENTATION_OPTIONS.show_version_warning_banner =
            false;
        </script>
    <link rel="index" title="Index" href="../../../../../../../genindex.html" />
    <link rel="search" title="Search" href="../../../../../../../search.html" />
    <link rel="next" title="SOME/IP Gateway Requirements" href="../requirements/index.html" />
    <link rel="prev" title="SOME/IP-Gateway" href="../index.html" />
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <meta name="docsearch:language" content="en"/>
  <meta name="docsearch:version" content="0.1" />
  </head>
  
  
  <body data-bs-spy="scroll" data-bs-target=".bd-toc-nav" data-offset="180" data-bs-root-margin="0px 0px -60%" data-default-mode="">

  
  
  <div id="pst-skip-link" class="skip-link d-print-none"><a href="#main-content">Skip to main content</a></div>
  
  <div id="pst-scroll-pixel-helper"></div>
  
  <button type="button" class="btn rounded-pill" id="pst-back-to-top">
    <i class="fa-solid fa-arrow-up"></i>Back to top</button>

  
  <dialog id="pst-search-dialog">
    
<form class="bd-search d-flex align-items-center"
      action="../../../../../../../search.html"
      method="get">
  <i class="fa-solid fa-magnifying-glass"></i>
  <input type="search"
         class="form-control"
         name="q"
         placeholder="Search the docs ..."
         aria-label="Search the docs ..."
         autocomplete="off"
         autocorrect="off"
         autocapitalize="off"
         spellcheck="false"/>
  <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd>K</kbd></span>
</form>
  </dialog>

  <div class="pst-async-banner-revealer d-none">
  <aside id="bd-header-version-warning" class="d-none d-print-none" aria-label="Version warning"></aside>
</div>

  
    <header class="bd-header navbar navbar-expand-lg bd-navbar d-print-none">
<div class="bd-header__inner bd-page-width">
  <button class="pst-navbar-icon sidebar-toggle primary-toggle" aria-label="Site navigation">
    <span class="fa-solid fa-bars"></span>
  </button>
  
  
  <div class="col-lg-3 navbar-header-items__start">
    
      <div class="navbar-item">

  
    
  

<a class="navbar-brand logo" href="../../../../../../../index.html">
  
  
  
  
  
  
    <p class="title logo__title">Eclipse S-CORE</p>
  
</a></div>
    
  </div>
  
  <div class="col-lg-9 navbar-header-items">
    
    <div class="me-auto navbar-header-items__center">
      
        <div class="navbar-item">
<nav>
  <ul class="bd-navbar-elements navbar-nav">
    
<li class="nav-item current active">
  <a class="nav-link nav-internal" href="../../../../index.html">
    S-CORE Platform
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-internal" href="../../../../../../../place_holder/persistency.html">
    Persistency
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-internal" href="../../../../../../../place_holder/orchestrator.html">
    Orchestrator
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-internal" href="../../../../../../../place_holder/communication.html">
    Communication
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-internal" href="../../../../../../score_feo/docs/index.html">
    FEO
  </a>
</li>

            <li class="nav-item dropdown">
                <button class="btn dropdown-toggle nav-item" type="button"
                data-bs-toggle="dropdown" aria-expanded="false"
                aria-controls="pst-nav-more-links">
                    More
                </button>
                <ul id="pst-nav-more-links" class="dropdown-menu">
                    
<li class=" ">
  <a class="nav-link dropdown-item nav-internal" href="../../../../../../score_process/process/index.html">
    Process description
  </a>
</li>


<li class=" ">
  <a class="nav-link dropdown-item nav-internal" href="../../../../../../score_docs_as_code/docs/index.html">
    Docs-As-Code
  </a>
</li>

                </ul>
            </li>
            
  </ul>
</nav></div>
      
    </div>
    
    
    <div class="navbar-header-items__end">
      
        <div class="navbar-item navbar-persistent--container">
          

<button class="btn search-button-field search-button__button pst-js-only" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
 <i class="fa-solid fa-magnifying-glass"></i>
 <span class="search-button__default-text">Search</span>
 <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd class="kbd-shortcut__modifier">K</kbd></span>
</button>
        </div>
      
      
        <div class="navbar-item">

<button class="btn btn-sm nav-link pst-navbar-icon theme-switch-button pst-js-only" aria-label="Color mode" data-bs-title="Color mode"  data-bs-placement="bottom" data-bs-toggle="tooltip">
  <i class="theme-switch fa-solid fa-sun                fa-lg" data-mode="light" title="Light"></i>
  <i class="theme-switch fa-solid fa-moon               fa-lg" data-mode="dark"  title="Dark"></i>
  <i class="theme-switch fa-solid fa-circle-half-stroke fa-lg" data-mode="auto"  title="System Settings"></i>
</button></div>
      
        <div class="navbar-item"><ul class="navbar-icon-links"
    aria-label="Icon Links">
        <li class="nav-item">
          
          
          
          
          
          
          
          
          <a href="https://github.com/eclipse-score" title="GitHub" class="nav-link pst-navbar-icon" rel="noopener" target="_blank" data-bs-toggle="tooltip" data-bs-placement="bottom"><i class="fa-brands fa-github fa-lg" aria-hidden="true"></i>
            <span class="sr-only">GitHub</span></a>
        </li>
</ul></div>
      
        <div class="navbar-item">
<div class="version-switcher__container dropdown pst-js-only">
  <button id="pst-version-switcher-button-2"
    type="button"
    class="version-switcher__button btn btn-sm dropdown-toggle"
    data-bs-toggle="dropdown"
    aria-haspopup="listbox"
    aria-controls="pst-version-switcher-list-2"
    aria-label="Version switcher list"
  >
    Choose version  <!-- this text may get changed later by javascript -->
    <span class="caret"></span>
  </button>
  <div id="pst-version-switcher-list-2"
    class="version-switcher__menu dropdown-menu list-group-flush py-0"
    role="listbox" aria-labelledby="pst-version-switcher-button-2">
    <!-- dropdown will be populated by javascript on page load -->
  </div>
</div></div>
      
    </div>
    
  </div>
  
  
    <div class="navbar-persistent--mobile">

<button class="btn search-button-field search-button__button pst-js-only" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
 <i class="fa-solid fa-magnifying-glass"></i>
 <span class="search-button__default-text">Search</span>
 <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd class="kbd-shortcut__modifier">K</kbd></span>
</button>
    </div>
  

  
    <button class="pst-navbar-icon sidebar-toggle secondary-toggle" aria-label="On this page">
      <span class="fa-solid fa-outdent"></span>
    </button>
  
</div>

    </header>
  

  <div class="bd-container">
    <div class="bd-container__inner bd-page-width">
      
      
      
      <dialog id="pst-primary-sidebar-modal"></dialog>
      <div id="pst-primary-sidebar" class="bd-sidebar-primary bd-sidebar">
        

  
  <div class="sidebar-header-items sidebar-primary__section">
    
    
      <div class="sidebar-header-items__center">
        
          
          
            <div class="navbar-item">
<nav>
  <ul class="bd-navbar-elements navbar-nav">
    
<li class="nav-item current active">
  <a class="nav-link nav-internal" href="../../../../index.html">
    S-CORE Platform
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-internal" href="../../../../../../../place_holder/persistency.html">
    Persistency
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-internal" href="../../../../../../../place_holder/orchestrator.html">
    Orchestrator
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-internal" href="../../../../../../../place_holder/communication.html">
    Communication
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-internal" href="../../../../../../score_feo/docs/index.html">
    FEO
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-internal" href="../../../../../../score_process/process/index.html">
    Process description
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-internal" href="../../../../../../score_docs_as_code/docs/index.html">
    Docs-As-Code
  </a>
</li>

  </ul>
</nav></div>
          
        
      </div>
    
    
    
      <div class="sidebar-header-items__end">
        
          <div class="navbar-item">

<button class="btn btn-sm nav-link pst-navbar-icon theme-switch-button pst-js-only" aria-label="Color mode" data-bs-title="Color mode"  data-bs-placement="bottom" data-bs-toggle="tooltip">
  <i class="theme-switch fa-solid fa-sun                fa-lg" data-mode="light" title="Light"></i>
  <i class="theme-switch fa-solid fa-moon               fa-lg" data-mode="dark"  title="Dark"></i>
  <i class="theme-switch fa-solid fa-circle-half-stroke fa-lg" data-mode="auto"  title="System Settings"></i>
</button></div>
        
          <div class="navbar-item"><ul class="navbar-icon-links"
    aria-label="Icon Links">
        <li class="nav-item">
          
          
          
          
          
          
          
          
          <a href="https://github.com/eclipse-score" title="GitHub" class="nav-link pst-navbar-icon" rel="noopener" target="_blank" data-bs-toggle="tooltip" data-bs-placement="bottom"><i class="fa-brands fa-github fa-lg" aria-hidden="true"></i>
            <span class="sr-only">GitHub</span></a>
        </li>
</ul></div>
        
          <div class="navbar-item">
<div class="version-switcher__container dropdown pst-js-only">
  <button id="pst-version-switcher-button-3"
    type="button"
    class="version-switcher__button btn btn-sm dropdown-toggle"
    data-bs-toggle="dropdown"
    aria-haspopup="listbox"
    aria-controls="pst-version-switcher-list-3"
    aria-label="Version switcher list"
  >
    Choose version  <!-- this text may get changed later by javascript -->
    <span class="caret"></span>
  </button>
  <div id="pst-version-switcher-list-3"
    class="version-switcher__menu dropdown-menu list-group-flush py-0"
    role="listbox" aria-labelledby="pst-version-switcher-button-3">
    <!-- dropdown will be populated by javascript on page load -->
  </div>
</div></div>
        
      </div>
    
  </div>
  
    <div class="sidebar-primary-items__start sidebar-primary__section">
        <div class="sidebar-primary-item">
<nav class="bd-docs-nav bd-links"
     aria-label="Section Navigation">
  <p class="bd-links__title" role="heading" aria-level="1">Section Navigation</p>
  <div class="bd-toc-item navbar-nav"><ul class="current nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="../../../../handbook/project_basics/index.html">Overview</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../handbook/own_application/index.html">Use</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../handbook/building_simple_application/index.html">Contribute own module</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../handbook/index.html">Handbook</a></li>
<li class="toctree-l1 current active has-children"><a class="reference internal" href="../../../index.html">Features</a><details open="open"><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../../../ai_platform/index.html">AI Platform</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../analysis-infra/index.html">Analysis Infrastructure</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../baselibs/index.html">Base Libraries (v0.5 beta)</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../code_generation/index.html">Code Generation</a></li>
<li class="toctree-l2 current active has-children"><a class="reference internal" href="../../index.html">Communication (v0.5 beta)</a><details open="open"><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="../../docs/architecture/index.html">Architecture</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../docs/requirements/index.html">Requirements</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../ipc/index.html">Inter-process Communication</a></li>
<li class="toctree-l3 current active has-children"><a class="reference internal" href="../index.html">SOME/IP-Gateway</a><details open="open"><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul class="current">
<li class="toctree-l4 current active"><a class="current reference internal" href="#">SOME/IP Gateway Architecture</a></li>
<li class="toctree-l4"><a class="reference internal" href="../requirements/index.html">SOME/IP Gateway Requirements</a></li>
<li class="toctree-l4"><a class="reference internal" href="../service_discovery/index.html">SOME/IP Gateway Service Discovery</a></li>
</ul>
</details></li>
<li class="toctree-l3"><a class="reference internal" href="../../abi_compatible_data_types/index.html">ABI Compatible Data Types</a></li>
</ul>
</details></li>
<li class="toctree-l2"><a class="reference internal" href="../../../configuration/index.html">Configuration</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../diagnostics/index.html">Diagnostic and Fault Management</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../frameworks/index.html">Frameworks</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../infrastructure/index.html">Infrastructure</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../integration/index.html">Integration</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../lifecycle/index.html">Lifecycle</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../orchestration/index.html">Orchestration (v0.5 beta)</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../persistency/index.html">Persistency (v0.5 beta)</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../security_crypto/index.html">Security &amp; Cryptography</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../time/index.html">Time</a></li>
</ul>
</details></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../requirements/index.html">Requirements</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../modules/index.html">Modules</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../contribute/index.html">Contribute</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../score_releases/index.html">S-CORE Releases</a></li>

<li class="toctree-l1"><a class="reference internal" href="../../../../score_tools/index.html">Tools</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../platform_management_plan/index.html">PMP</a></li>
<li class="toctree-l1"><a class="reference external" href="https://projects.eclipse.org/projects/automotive.score">Eclipse</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../design_decisions/index.html">Decision Records</a></li>
</ul>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="../../../../introduction/index.html">Eclipse S-CORE (Eclipse Safe Open Vehicle Core)</a></li>
</ul>
</div>
</nav></div>
    </div>
  
  
  <div class="sidebar-primary-items__end sidebar-primary__section">
      <div class="sidebar-primary-item">
<div id="ethical-ad-placement"
      class="flat"
      data-ea-publisher="readthedocs"
      data-ea-type="readthedocs-sidebar"
      data-ea-manual="true">
</div></div>
  </div>


      </div>
      
      <main id="main-content" class="bd-main" role="main">
        
        
          <div class="bd-content">
            <div class="bd-article-container">
              
              <div class="bd-header-article d-print-none">
<div class="header-article-items header-article__inner">
  
    <div class="header-article-items__start">
      
        <div class="header-article-item">

<nav aria-label="Breadcrumb" class="d-print-none">
  <ul class="bd-breadcrumbs">
    
    <li class="breadcrumb-item breadcrumb-home">
      <a href="../../../../../../../index.html" class="nav-link" aria-label="Home">
        <i class="fa-solid fa-home"></i>
      </a>
    </li>
    
    <li class="breadcrumb-item"><a href="../../../../index.html" class="nav-link">Documentation</a></li>
    
    
    <li class="breadcrumb-item"><a href="../../../index.html" class="nav-link">Features</a></li>
    
    
    <li class="breadcrumb-item"><a href="../../index.html" class="nav-link">Communication (v0.5 beta)</a></li>
    
    
    <li class="breadcrumb-item"><a href="../index.html" class="nav-link">SOME/IP-Gateway</a></li>
    
    <li class="breadcrumb-item active" aria-current="page"><span class="ellipsis">SOME/IP Gateway Architecture</span></li>
  </ul>
</nav>
</div>
      
    </div>
  
  
</div>
</div>
              
              
              
                
<div id="searchbox"></div>
                <article class="bd-article">
                  
  <section id="some-ip-gateway-architecture">
<span id="id1"></span><h1>SOME/IP Gateway Architecture<a class="headerlink" href="#some-ip-gateway-architecture" title="Link to this heading">#</a></h1>
<div class="toctree-wrapper compound">
</div>
<section id="context-view">
<h2>Context View<a class="headerlink" href="#context-view" title="Link to this heading">#</a></h2>
<p>SOME/IP Gateway on one side is a regular participant in IPC and uses the according mechanisms to publish
data or to subscribe to data. As such it will need to know and understand the data types that are used in
the IPC network.</p>
<p>It also is a participant in the SOME/IP network and provides services for the service oriented communication.
This shall be possible by including the <a class="reference external" href="https://github.com/COVESA/vsomeip">vsomeip</a> SOME/IP stack for reference,
which can be replaced by other implementations, i.e. proprietary commercial stacks.</p>
<p>There need to be some components between the two communication networks as data types and their according representations and
transmission cadence can be different. Translation of data types could be handled in some translation module
that might be independent of the rest of the gateway. But buffering / queuing of messages, events, signals
should be mostly freely programmable by integrators using the SOME/IP gateway.</p>
<figure class="align-center" id="id2">
<img alt="../../../../../../../_images/some_ip_gateway_architecture.drawio.svg" src="../../../../../../../_images/some_ip_gateway_architecture.drawio.svg" />
<figcaption>
<p><span class="caption-number">Fig. 5 </span><span class="caption-text">General overview of SOME/IP Gateway</span><a class="headerlink" href="#id2" title="Link to this image">#</a></p>
</figcaption>
</figure>
</section>
<section id="structural-view">
<h2>Structural View<a class="headerlink" href="#structural-view" title="Link to this heading">#</a></h2>
<p>SOME/IP stacks as supplied by different vendors mostly are available as QM only.
In the case that SOME/IP implementations are not developed under ASIL-B constraints, adequate measures need to be taken to
separate this QM component from the otherwise ASIL-B compliant components. This may be achieved through separate processes,
which again will require dedicated inter-process-communication between the SOME/IP-stack and the rest of the gateway.
It is preferred to avoid such additional IPC.</p>
<figure class="align-center" id="some-ip-gateway-details">
<img alt="../../../../../../../_images/some_ip_gateway_details.drawio.svg" src="../../../../../../../_images/some_ip_gateway_details.drawio.svg" />
<figcaption>
<p><span class="caption-number">Fig. 6 </span><span class="caption-text">Detailed components view of SOME/IP Gateway</span><a class="headerlink" href="#some-ip-gateway-details" title="Link to this image">#</a></p>
</figcaption>
</figure>
</section>
<section id="e2e-considerations">
<h2>E2E Considerations<a class="headerlink" href="#e2e-considerations" title="Link to this heading">#</a></h2>
<p>To cope with SOME/IP stack just being QM, we need to prepare for end-to-end protection. The goal shall be to
do the E2E protection/check <strong>as centrally as possible</strong> in the gateway. Unfortunately, the centralized end-to-end
check cannot be done for all relevant E2E properties. The following table proposes where the corresponding E2E properties shall
checked.</p>
<div class="pst-scrollable-table-container"><table class="table" id="id3">
<caption><span class="caption-number">Table 5 </span><span class="caption-text">E2E properties</span><a class="headerlink" href="#id3" title="Link to this table">#</a></caption>
<colgroup>
<col style="width: 25.0%" />
<col style="width: 62.5%" />
<col style="width: 6.2%" />
<col style="width: 6.2%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Protection Property</p></th>
<th class="head"><p>Purpose</p></th>
<th class="head"><p>Gateway</p></th>
<th class="head"><p>IPC Client</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>CRC</p></td>
<td><p>Detects data corruption in the payload and metadata.</p></td>
<td><p>x</p></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>Counter</p></td>
<td><p>Detects message loss, duplication, or reordering.</p></td>
<td><p>x</p></td>
<td><p>x</p></td>
</tr>
<tr class="row-even"><td><p>Alive Counter</p></td>
<td><p>Detects if the sender is still active or stuck/frozen</p></td>
<td><p>x</p></td>
<td><p>x</p></td>
</tr>
<tr class="row-odd"><td><p>Data ID</p></td>
<td><p>Identifies the data format version to prevent misinterpretation.</p></td>
<td></td>
<td><p>x</p></td>
</tr>
<tr class="row-even"><td><p>Timeout</p></td>
<td><p>Detects if no message is received within a defined time window.</p></td>
<td></td>
<td><p>x</p></td>
</tr>
</tbody>
</table>
</div>
<section id="e2e-design-and-interface-considerations">
<h3>E2E Design and Interface Considerations<a class="headerlink" href="#e2e-design-and-interface-considerations" title="Link to this heading">#</a></h3>
<p>As mentioned above, not all E2E checks can be kept hidden within the gateway. For some problems it is up to the application to decide
whether it is still valuable to access and process the data. This is in particular true for duplication or re-ordering issues.
Therefore, it is required to pass a <strong>tupel</strong> consisting of the <strong>payload data</strong> as well as <strong>supplementary E2E metadata and error information</strong>
to the IPC clients to enable the client to individually judge on particular E2E issues.</p>
<ul class="simple">
<li><p>The API design needs to put the payload information as well as the additional E2E metadata as close as possible together to easily enable and motivate clients to consequently check for potential errors.</p></li>
<li><p>Additional metadata and error information needs to be incorporated into regular mw::com user interface</p></li>
<li><p>Error related interface design needs to be highly optimized for the “good case” to have an optimized support for the common IPC case</p></li>
<li><p>Assumptions of Use need to be provided to force the user to check for the (E2E-) result</p></li>
<li><p>Additional E2E metadata to be handed over to the clients:</p>
<ul>
<li><p>Counter, slightly different interpretation depending on profile, n/a in case the profile doesn’t support it</p></li>
<li><p>Data ID, n/a in case the profile does not support it or if the Data ID is not explicitly transmitted like in profile 22</p></li>
<li><p>Profile identification, required to properly interpret E2E attributes like “Counter”. (Could be either an “Alive Counter” or a “Sequence Counter” depending on the profile)</p></li>
<li><p>Detailed, profile specific error code (enum)</p></li>
</ul>
</li>
<li><p>Proposed Error Enumeration</p>
<ul>
<li><p>No E2E error</p></li>
<li><p>CRC Error</p></li>
<li><p>Sequence error (further sub-qualification in loss, duplication, reordering is up to the client based on the counter)</p></li>
</ul>
</li>
</ul>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>CRC Errors might cause problems with corrupted service / instance IDs, as such messages might not get forwarded to the correct recipient.
This requires further discussion during implementation phase.</p>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The proposed error enumeration is an abstraction. Deriving detailed errors
based on the E2E metadata is task of the client.
For reference, this is the typical error enumeration:</p>
<ul class="simple">
<li><p>OK</p></li>
<li><p>ERROR</p></li>
<li><p>OKSOMELOST</p></li>
<li><p>REPEATED</p></li>
<li><p>WRONGSEQUENCE</p></li>
<li><p>NONEWDATA</p></li>
<li><p>SYNC</p></li>
<li><p>INITIAL</p></li>
</ul>
</div>
</section>
<section id="e2e-state-machine-considerations">
<h3>E2E State Machine Considerations<a class="headerlink" href="#e2e-state-machine-considerations" title="Link to this heading">#</a></h3>
<p>The E2E (End-to-End) state machine provides a summarized result
about the overall health and state of a communication channel. Unlike individual E2E Profile Check() functions,
which assess data validity for a single communication cycle, the state machine aggregates results from multiple Check()
function invocations over a period. This allows it to determine a more holistic and debounced status of the communication.</p>
<section id="purpose-of-the-e2e-state-machine">
<h4>Purpose of the E2E State Machine<a class="headerlink" href="#purpose-of-the-e2e-state-machine" title="Link to this heading">#</a></h4>
<p>The primary purpose of the E2E state machine is to transform instantaneous “per-cycle” check results into a stable,
long-term communication channel status. This aggregated status is then provided to the consuming application,
enabling it to make informed decisions about whether the received data can be trusted and used for safety-related functions.</p>
<p>As mentioned above, the E2E state-machine is associated to one communication channel which is in turn associated to exactly one
individual IPC client. Therefore it is an obvious consequence, that the individual state machine handling and state machine
configuration is responsibility of the client and not a central responsibility of the gateway.
Even for the same service different clients may use different state machine configuration.
The diagram below outlines this distribution of responsibilities.</p>
<p><em>Diagram: E2E state machine responsibility associated to IPC client</em></p>
<figure class="align-center" id="e2e-state-machine-on-client-side">
<img alt="../../../../../../../_images/e2e_state_machine_on_client_side.drawio.svg" src="../../../../../../../_images/e2e_state_machine_on_client_side.drawio.svg" />
<figcaption>
<p><span class="caption-number">Fig. 7 </span><span class="caption-text">E2E state machine responsibility associated to IPC client</span><a class="headerlink" href="#e2e-state-machine-on-client-side" title="Link to this image">#</a></p>
</figcaption>
</figure>
<p><strong>Considered Alternative</strong>
If we allocate the state-machine responsibility to the gateway the distribution of responsibilities would look like in the following diagram</p>
<p><em>Diagram: E2E state machine responsibility associated to the gateway</em></p>
<figure class="align-center" id="e2e-state-machine-in-gateway">
<img alt="../../../../../../../_images/e2e_state_machine_in_gateway.drawio.svg" src="../../../../../../../_images/e2e_state_machine_in_gateway.drawio.svg" />
<figcaption>
<p><span class="caption-number">Fig. 8 </span><span class="caption-text">E2E state machine responsibility associated to the gateway</span><a class="headerlink" href="#e2e-state-machine-in-gateway" title="Link to this image">#</a></p>
</figcaption>
</figure>
<p>Due to pub/sub nature of mw::com, clients listening on the same topic cannot be separately addressed. Therefore, <strong>the state machine results
cannot be selectively distributed according to the particular communication channel they belong to</strong>.</p>
<p><strong>=&gt; Alternative dismissed</strong></p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The End-to-End consideration in this chapter do not yet consider methods.</p>
</div>
</section>
</section>
</section>
</section>


                </article>
              
              
              
              
              
                <footer class="prev-next-footer d-print-none">
                  
<div class="prev-next-area">
    <a class="left-prev"
       href="../index.html"
       title="previous page">
      <i class="fa-solid fa-angle-left"></i>
      <div class="prev-next-info">
        <p class="prev-next-subtitle">previous</p>
        <p class="prev-next-title">SOME/IP-Gateway</p>
      </div>
    </a>
    <a class="right-next"
       href="../requirements/index.html"
       title="next page">
      <div class="prev-next-info">
        <p class="prev-next-subtitle">next</p>
        <p class="prev-next-title">SOME/IP Gateway Requirements</p>
      </div>
      <i class="fa-solid fa-angle-right"></i>
    </a>
</div>
                </footer>
              
            </div>
            
            
              
                <dialog id="pst-secondary-sidebar-modal"></dialog>
                <div id="pst-secondary-sidebar" class="bd-sidebar-secondary bd-toc"><div class="sidebar-secondary-items sidebar-secondary__inner">


  <div class="sidebar-secondary-item">
<div
    id="pst-page-navigation-heading-2"
    class="page-toc tocsection onthispage">
    <i class="fa-solid fa-list"></i> On this page
  </div>
  <nav class="bd-toc-nav page-toc" aria-labelledby="pst-page-navigation-heading-2">
    <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#context-view">Context View</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#structural-view">Structural View</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#e2e-considerations">E2E Considerations</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#e2e-design-and-interface-considerations">E2E Design and Interface Considerations</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#e2e-state-machine-considerations">E2E State Machine Considerations</a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#purpose-of-the-e2e-state-machine">Purpose of the E2E State Machine</a></li>
</ul>
</li>
</ul>
</li>
</ul>
  </nav></div>

  <div class="sidebar-secondary-item">

  
  <div class="tocsection editthispage">
    <a href="https://github.com/rmaddikery/reference_integration/edit/main/docs/_collections/score_platform/docs/features/communication/some_ip_gateway/architecture/index.rst">
      <i class="fa-solid fa-pencil"></i>
      
      
        
          Edit on GitHub
        
      
    </a>
  </div>
</div>

</div></div>
              
            
          </div>
          <footer class="bd-footer-content">
            
          </footer>
        
      </main>
    </div>
  </div>
  
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script defer src="../../../../../../../_static/scripts/bootstrap.js?digest=8878045cc6db502f8baf"></script>
<script defer src="../../../../../../../_static/scripts/pydata-sphinx-theme.js?digest=8878045cc6db502f8baf"></script>

  <footer class="bd-footer">
<div class="bd-footer__inner bd-page-width">
  
    <div class="footer-items__start">
      
        <div class="footer-item">

  <p class="sphinx-version">
    Created using <a href="https://www.sphinx-doc.org/">Sphinx</a> 8.2.3.
    <br/>
  </p>
</div>
      
    </div>
  
  
  
    <div class="footer-items__end">
      
        <div class="footer-item">
<p class="theme-version">
  <!-- # L10n: Setting the PST URL as an argument as this does not need to be localized -->
  Built with the <a href="https://pydata-sphinx-theme.readthedocs.io/en/stable/index.html">PyData Sphinx Theme</a> 0.16.1.
</p></div>
      
    </div>
  
</div>

  </footer>
  </body>
</html>